VERSION 1

NODE average_usage

SQL >

    %
    SELECT COUNT(*) / {{Int32(days, 30, description="Average over this many days", required=False)}}  as average
    FROM checks
    WHERE fromUnixTimestamp64Milli(time) >= now() - INTERVAL {{Int32(days, 30, description="Average over this many days", required=False)}}  DAY